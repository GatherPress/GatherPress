(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,r=window.wp.i18n,s=window.wp.components,n=window.wp.element,l=window.wp.data,o=window.ReactJSXRuntime,i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"gatherpress/modal-manager","version":"1.0.0","title":"Modal Manager","category":"gatherpress","icon":"external","example":{},"description":"Manage modals and their triggers with ease.","attributes":{},"supports":{"align":["wide","full"],"layout":{"allowSwitching":false,"allowInheriting":false,"default":{"justifyContent":"center","type":"flex"}},"html":false,"interactivity":true},"textdomain":"gatherpress","editorScript":"file:./index.js","viewScriptModule":"file:./view.js"}');(0,e.registerBlockType)(i,{edit:({clientId:e})=>{const i=(0,t.useBlockProps)(),[a,c]=(0,n.useState)(null),d=(0,l.select)("core/block-editor").getBlocks(e);return(0,n.useEffect)((()=>{const e=(0,l.subscribe)((()=>{const e=(0,l.select)("core/block-editor").getSelectedBlockClientId();a&&e!==a&&c(null)}));return()=>e()}),[a]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.InspectorControls,{children:(0,o.jsx)(s.PanelBody,{title:(0,r.__)("Open a Modal","gatherpress"),children:(0,o.jsx)(s.ButtonGroup,{style:{display:"flex",gap:"0.5rem"},children:d.map((e=>{if("gatherpress/modal"===e.name){const t=e?.attributes?.metadata?.name||(0,r.__)("Modal","gatherpress");return(0,o.jsx)(s.Button,{variant:"secondary",onClick:()=>{return t=e.clientId,void(a===t?(c(null),(0,l.dispatch)("core/block-editor").clearSelectedBlock()):(c(t),(0,l.dispatch)("core/block-editor").selectBlock(t)));var t},children:t},e.clientId)}return null}))})})}),(0,o.jsx)("div",{...i,children:(0,o.jsx)(t.InnerBlocks,{template:[["gatherpress/modal",{},[["gatherpress/modal-content",{}]]]]})})]})},save:()=>(0,o.jsx)("div",{...t.useBlockProps.save(),children:(0,o.jsx)(t.InnerBlocks.Content,{})})})})();