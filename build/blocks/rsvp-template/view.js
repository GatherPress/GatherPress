import*as e from"@wordpress/interactivity";var t={d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=(o={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},t.d(s,o),s);var o,s;function n(e){if("object"==typeof GatherPress)return e.split(".").reduce(((e,t)=>e&&e[t]),GatherPress)}const{state:a}=(0,r.store)("gatherpress",{callbacks:{renderBlocks(){const e=(0,r.getContext)();if(!a.rsvpResponseStatus||e.postId!==a.activePostId)return;const o=(0,r.getElement)();fetch(n("urls.eventApiUrl")+"/rsvp-response-render",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":n("misc.nonce")},body:JSON.stringify({status:a.rsvpResponseStatus,post_id:e.postId,block_data:o.attributes["data-blocks"]})}).then((e=>e.json())).then((e=>{if(e.success){const r=o.ref.parentElement;Array.from(r.children).forEach((e=>{e!==o.ref&&e.hasAttribute("data-id")&&e.remove()})),o.ref.insertAdjacentHTML("beforebegin",t.g.wp.dom.safeHTML(e.content))}})).catch((()=>{}))}}});