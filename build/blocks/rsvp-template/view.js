import*as t from"@wordpress/interactivity";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);const r=(o={getContext:()=>t.getContext,getElement:()=>t.getElement,store:()=>t.store},s={},e.d(s,o),s);var o,s;function n(t){if("object"==typeof GatherPress)return t.split(".").reduce(((t,e)=>t&&t[e]),GatherPress)}const{state:a}=(0,r.store)("gatherpress",{callbacks:{renderBlocks(){const t=(0,r.getContext)();if(!a.rsvpResponseStatus||t.postId!==a.activePostId)return;const o=(0,r.getElement)();fetch(n("urls.eventApiUrl")+"/rsvp-status-html",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":n("misc.nonce")},body:JSON.stringify({status:a.rsvpResponseStatus,post_id:t.postId,block_data:o.attributes["data-blocks"]})}).then((t=>t.json())).then((t=>{if(t.success){const r=o.ref.parentElement;Array.from(r.children).forEach((t=>{t!==o.ref&&t.hasAttribute("data-id")&&t.remove()})),o.ref.insertAdjacentHTML("beforebegin",e.g.wp.dom.safeHTML(t.content))}})).catch((()=>{}))}}});