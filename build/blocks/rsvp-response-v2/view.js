import*as t from"@wordpress/interactivity";var e={d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const s=(n={getContext:()=>t.getContext,getElement:()=>t.getElement,store:()=>t.store},o={},e.d(o,n),o);var n,o;function r(t){if("object"==typeof GatherPress)return t.split(".").reduce(((t,e)=>t&&t[e]),GatherPress)}const{state:a,callbacks:i}=(0,s.store)("gatherpress",{state:{posts:{}},callbacks:{processRsvpDropdown(){i.initPostContext();const t=(0,s.getElement)(),e=(0,s.getContext)(),n=e?.postId||0;if(t&&t.ref&&!t.ref.hasAttribute("data-label")){const e=t.ref.textContent.trim();e&&t.ref.setAttribute("data-label",e)}const o=t.ref.parentElement,p=o?.classList||[],c=t.ref.getAttribute("data-label"),l=(r("eventDetails.responses"),t.ref.classList.contains("gatherpress--is-disabled")),g=t.ref.closest(".wp-block-gatherpress-dropdown");let d=0;if(p.contains("gatherpress--rsvp-attending")?d=a.posts[n]?.eventResponses?.attending||0:p.contains("gatherpress--rsvp-waiting-list")?d=a.posts[n]?.eventResponses?.waitingList||0:p.contains("gatherpress--rsvp-not-attending")&&(d=a.posts[n]?.eventResponses?.notAttending||0),c){const e=c.replace("%d",d);t.ref.textContent=e}if(l){const e=t.ref.textContent.trim(),s=g.querySelector(".wp-block-gatherpress-dropdown__trigger");s&&(s.textContent=e)}},initPostContext(){const t=(0,s.getContext)(),e=r("eventDetails.responses");a.posts[t?.postId]||(a.posts[t?.postId]={eventResponses:{attending:e?.attending?.count||0,waitingList:e?.waiting_list?.count||0,notAttending:e?.not_attending?.count||0}})}}});