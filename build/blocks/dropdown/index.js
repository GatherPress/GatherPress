(()=>{"use strict";var e,t={3752:()=>{const e=window.wp.blocks,t=JSON.parse('{"UU":"gatherpress/dropdown","DD":"Dropdown","L1":"gatherpress","Kk":"menu","uK":{"actAsSelect":{"type":"boolean","default":false},"selectedIndex":{"type":"number","default":0},"dropdownId":{"type":"string"},"openOn":{"type":"string","default":"click","enum":["click","hover"]},"label":{"type":"string","default":"Dropdown"},"replaceLabel":{"type":"boolean","default":false},"alignment":{"type":"string","default":"left","enum":["left","center","right","justify","stretch"]},"itemPadding":{"type":"object","default":{"top":0,"right":0,"bottom":0,"left":0}},"itemTextColor":{"type":"string","default":"#000000"},"itemHoverTextColor":{"type":"string","default":"#000000"},"itemBgColor":{"type":"string","default":"#FFFFFF"},"itemHoverBgColor":{"type":"string","default":"#EEEEEE"},"itemDividerColor":{"type":"string","default":"#000000"},"itemDividerThickness":{"type":"number","default":1},"dropdownZIndex":{"type":"number","default":10},"dropdownMaxWidth":{"type":"string","default":"240px"},"dropdownBorderColor":{"type":"string","default":"#000000"},"dropdownBorderThickness":{"type":"number","default":1},"dropdownBorderRadius":{"type":"number","default":0}}}'),o=window.wp.blockEditor,r=window.wp.components,n=window.wp.i18n,l=window.wp.element,d={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a;const s=new Uint8Array(16);function i(){if(!a){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(s)}const p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));const c=function(e,t,o){if(d.randomUUID&&!t&&!e)return d.randomUUID();const r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(let e=0;e<16;++e)t[o+e]=r[e];return t}return function(e,t=0){return(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase()}(r)},g=window.wp.data,h=window.ReactJSXRuntime;(0,e.registerBlockType)(t.UU,{title:t.DD,category:t.L1,icon:t.Kk,attributes:t.uK,edit:({attributes:e,setAttributes:t,clientId:d})=>{const a=(0,o.useBlockProps)(),[s,i]=(0,l.useState)(!1),{itemBgColor:p,itemHoverBgColor:u,itemPadding:b,itemTextColor:m,itemHoverTextColor:w,itemDividerColor:x,itemDividerThickness:C}=e,_=(0,g.useSelect)((e=>e("core/block-editor").getBlock(d)?.innerBlocks||[]),[d]);(0,l.useEffect)((()=>{if(!e.dropdownId){const e=`dropdown-${c()}`;t({dropdownId:e})}}),[e.dropdownId,t]),(0,l.useEffect)((()=>{const t=e.label||(0,n.__)("Dropdown","gatherpress"),o=(0,g.select)("core/block-editor").getBlockAttributes(d).metadata||{};o.name!==t&&(0,g.dispatch)("core/block-editor").updateBlockAttributes(d,{metadata:{...o,name:t}})}),[e.label,d]),(0,l.useEffect)((()=>{if(!1===e.actAsSelect)return;const o=(0,g.select)("core/block-editor").getBlocks(d);if(Array.isArray(o)&&0<=e.selectedIndex&&e.selectedIndex<o.length){const r=o[e.selectedIndex],n=r?.attributes?.text||"";n!==e.label&&t({label:n})}}),[e.actAsSelect,e.selectedIndex,e.label,d]),(0,l.useEffect)((()=>{e.actAsSelect&&t({label:_[e.selectedIndex]?.attributes?.text||""})}),[_]);const v=`\n\t\t#${e.dropdownId} .wp-block-gatherpress-dropdown-item {\n\t\t\tpadding: ${b.top}px ${b.right}px ${b.bottom}px ${b.left}px;\n\t\t\tcolor: ${m||"inherit"};\n\t\t\tbackground-color: ${p||"transparent"};\n\t\t}\n\n\t\t#${e.dropdownId} .wp-block-gatherpress-dropdown-item:hover {\n\t\t\tcolor: ${w||"inherit"};\n\t\t\tbackground-color: ${u||"transparent"};\n\t\t}\n\n\t\t#${e.dropdownId} .wp-block-gatherpress-dropdown-item:not(:first-child) {\n\t\t\tborder-top: ${C||1}px solid ${x||"transparent"};\n\t\t}\n\t`;return(0,h.jsxs)("div",{...a,children:[(0,h.jsxs)(o.InspectorControls,{children:[(0,h.jsxs)(r.PanelBody,{title:(0,n.__)("Settings","gatherpress"),initialOpen:!0,children:[(0,h.jsxs)(r.__experimentalToggleGroupControl,{label:(0,n.__)("Open on","gatherpress"),value:e.openOn,isBlock:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,onChange:e=>t({openOn:e}),children:[(0,h.jsx)(r.__experimentalToggleGroupControlOption,{value:"click",label:(0,n.__)("Click","gatherpress")}),(0,h.jsx)(r.__experimentalToggleGroupControlOption,{value:"hover",label:(0,n.__)("Hover","gatherpress")})]}),0<_.length&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.ToggleControl,{label:(0,n.__)("Enable Select Mode","gatherpress"),help:(0,n.__)("When enabled, clicking on an item will set it as the dropdown label, and the selected item will be disabled until another is chosen.","gatherpress"),checked:e.actAsSelect,onChange:e=>t({actAsSelect:e})}),e.actAsSelect&&(0,h.jsx)(r.SelectControl,{label:(0,n.__)("Default Selected Item","gatherpress"),help:(0,n.__)("This item will be selected by default when the dropdown is displayed.","gatherpress"),value:e.selectedIndex,options:_.map(((e,t)=>({label:e.attributes.text||`Item ${t+1}`,value:t}))),onChange:e=>t({selectedIndex:parseInt(e,10)})})]}),(0,h.jsx)(r.__experimentalBoxControl,{label:(0,n.__)("Item Padding","gatherpress"),values:e.itemPadding||8,onChange:e=>t({itemPadding:e})}),(0,h.jsx)(r.RangeControl,{label:(0,n.__)("Item Divider Thickness","gatherpress"),value:e.itemDividerThickness||1,onChange:e=>t({itemDividerThickness:e}),min:0,max:10}),(0,h.jsx)(r.RangeControl,{label:(0,n.__)("Dropdown Z-Index","gatherpress"),value:e.dropdownZIndex,onChange:e=>t({dropdownZIndex:e}),min:0,max:1e3}),(0,h.jsx)(r.RangeControl,{label:(0,n.__)("Dropdown Max Width","gatherpress"),value:parseInt(e.dropdownMaxWidth,10),onChange:e=>t({dropdownMaxWidth:`${e}px`}),min:100,max:800}),(0,h.jsx)(r.RangeControl,{label:(0,n.__)("Dropdown Border Thickness","gatherpress"),value:e.dropdownBorderThickness||1,onChange:e=>t({dropdownBorderThickness:e}),min:0,max:20}),(0,h.jsx)(r.RangeControl,{label:(0,n.__)("Dropdown Border Radius","gatherpress"),value:e.dropdownBorderRadius,onChange:e=>t({dropdownBorderRadius:e}),min:0,max:50})]}),(0,h.jsx)(o.PanelColorSettings,{title:(0,n.__)("Colors","gatherpress"),colorSettings:[{value:e.labelColor,onChange:e=>t({labelColor:e}),label:(0,n.__)("Label Text Color","gatherpress")},{value:e.itemTextColor,onChange:e=>t({itemTextColor:e}),label:(0,n.__)("Item Text Color","gatherpress")},{value:e.itemBgColor,onChange:e=>t({itemBgColor:e}),label:(0,n.__)("Item Background Color","gatherpress")},{value:e.itemHoverTextColor,onChange:e=>t({itemHoverTextColor:e}),label:(0,n.__)("Item Hover Text Color","gatherpress")},{value:e.itemHoverBgColor,onChange:e=>t({itemHoverBgColor:e}),label:(0,n.__)("Item Hover Background Color","gatherpress")},{value:e.itemDividerColor,onChange:e=>t({itemDividerColor:e}),label:(0,n.__)("Item Divider Color","gatherpress")},{value:e.dropdownBorderColor,onChange:e=>t({dropdownBorderColor:e}),label:(0,n.__)("Dropdown Border Color","gatherpress")}]})]}),(0,h.jsx)(o.BlockControls,{children:(0,h.jsx)(r.ToolbarGroup,{children:(0,h.jsx)(r.ToolbarButton,{icon:s?"no-alt":"plus",onClick:()=>{i((e=>!e))},label:s?(0,n.__)("Close Dropdown","gatherpress"):(0,n.__)("Open Dropdown","gatherpress")})})}),e.actAsSelect?(0,h.jsx)("a",{href:"#",role:"button","aria-expanded":s,"aria-controls":e.dropdownId,tabIndex:0,className:"wp-block-gatherpress-dropdown__trigger",style:{color:e.labelColor},children:e.label}):(0,h.jsx)(o.RichText,{tagName:"a",href:"#",role:"button","aria-expanded":s,"aria-controls":e.dropdownId,tabIndex:0,className:"wp-block-gatherpress-dropdown__trigger",value:e.label,onChange:e=>{t({label:e})},allowedFormats:[],placeholder:(0,n.__)("Dropdown Labelâ€¦","gatherpress"),style:{color:e.labelColor}}),(0,h.jsx)("style",{children:v}),(0,h.jsx)("div",{id:e.dropdownId,role:"region",className:"wp-block-gatherpress-dropdown__menu",style:{display:s?"block":"none",backgroundColor:e.itemBgColor,border:`${e.dropdownBorderThickness||1}px solid ${e.dropdownBorderColor||"#000"}`,borderRadius:`${e.dropdownBorderRadius||0}px`,zIndex:e.dropdownZIndex,width:e.dropdownMaxWidth},children:(0,h.jsx)(o.InnerBlocks,{allowedBlocks:["gatherpress/dropdown-item"]})})]})},save:({attributes:e})=>{const t=o.useBlockProps.save(),{dropdownId:r,label:n,labelColor:l,itemBgColor:d,itemPadding:a,itemHoverBgColor:s,itemTextColor:i,itemHoverTextColor:p,itemDividerColor:c,itemDividerThickness:g,openOn:u,dropdownBorderColor:b,dropdownBorderThickness:m,dropdownBorderRadius:w}=e,x=t.className?.replace(/\s+/g,".")||"",C=`\n\t\t#${r} .wp-block-gatherpress-dropdown-item a {\n\t\t\tpadding: ${a.top}px ${a.right}px ${a.bottom}px ${a.left}px;\n\t\t\tcolor: ${i||"inherit"};\n\t\t\tbackground-color: ${d||"transparent"};\n\t\t}\n\n\t\t#${r} .wp-block-gatherpress-dropdown-item a:hover {\n\t\t\tcolor: ${p||"inherit"};\n\t\t\tbackground-color: ${s||"transparent"};\n\t\t}\n\n\t\t#${r} .wp-block-gatherpress-dropdown-item:not(:first-child) {\n\t\t\tborder-top: ${g||1}px solid ${c||"transparent"};\n\t\t}\n\n\t\t${"hover"===u&&x?`\n\t\t\t\t\t.${x}:hover #${r},\n\t\t\t\t\t.${x}:focus-within #${r} {\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\t\t\t\t`:""}\n\t`;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("style",{children:C}),(0,h.jsxs)("div",{...t,children:[(0,h.jsx)("a",{href:"#",role:"button","aria-expanded":"false","aria-controls":r,tabIndex:0,className:"wp-block-gatherpress-dropdown__trigger",style:{color:l},children:n}),(0,h.jsx)("div",{id:r,role:"region",className:"wp-block-gatherpress-dropdown__menu",style:{backgroundColor:d,border:`${m||1}px solid ${b||"#000"}`,borderRadius:`${w||0}px`,zIndex:e.dropdownZIndex,width:e.dropdownMaxWidth},children:(0,h.jsx)(o.InnerBlocks.Content,{})})]})]})}})}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,o,n,l)=>{if(!o){var d=1/0;for(p=0;p<e.length;p++){for(var[o,n,l]=e[p],a=!0,s=0;s<o.length;s++)(!1&l||d>=l)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(a=!1,l<d&&(d=l));if(a){e.splice(p--,1);var i=n();void 0!==i&&(t=i)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[o,n,l]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={8858:0,7822:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,l,[d,a,s]=o,i=0;if(d.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(s)var p=s(r)}for(t&&t(o);i<d.length;i++)l=d[i],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(p)},o=globalThis.webpackChunkgatherpress=globalThis.webpackChunkgatherpress||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[7822],(()=>r(3752)));n=r.O(n)})();