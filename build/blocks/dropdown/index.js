(()=>{"use strict";var e,t={3752:()=>{const e=window.wp.blocks,t=JSON.parse('{"UU":"gatherpress/dropdown","DD":"Dropdown","L1":"gatherpress","Kk":"menu","uK":{"dropdownId":{"type":"string"},"openOn":{"type":"string","default":"click","enum":["click","hover"]},"label":{"type":"string","default":"Dropdown"},"replaceLabel":{"type":"boolean","default":false},"alignment":{"type":"string","default":"left","enum":["left","center","right","justify","stretch"]},"itemPadding":{"type":"object","default":{"top":0,"right":0,"bottom":0,"left":0}},"itemTextColor":{"type":"string","default":"#000000"},"itemBgColor":{"type":"string","default":"#FFFFFF"}}}'),o=window.wp.blockEditor,r=window.wp.components,n=window.wp.i18n,l=window.wp.element,a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let s;const i=new Uint8Array(16);function d(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(i)}const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));const p=function(e,t,o){if(a.randomUUID&&!t&&!e)return a.randomUUID();const r=(e=e||{}).random||(e.rng||d)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(let e=0;e<16;++e)t[o+e]=r[e];return t}return function(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}(r)},g=window.wp.data,u=window.ReactJSXRuntime;(0,e.registerBlockType)(t.UU,{title:t.DD,category:t.L1,icon:t.Kk,attributes:t.uK,edit:({attributes:e,setAttributes:t,clientId:a})=>{const s=(0,o.useBlockProps)(),i=s.className||"",[d,c]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{if(!e.dropdownId){const e=`dropdown-${p()}`;t({dropdownId:e})}}),[e.dropdownId,t]),(0,l.useEffect)((()=>{const t=e.label||(0,n.__)("Dropdown","gatherpress"),o=(0,g.select)("core/block-editor").getBlockAttributes(a).metadata||{};o.name!==t&&(0,g.dispatch)("core/block-editor").updateBlockAttributes(a,{metadata:{...o,name:t}})}),[e.label,a]),(0,l.useEffect)((()=>{const{updateBlockAttributes:t}=(0,g.dispatch)("core/block-editor"),{getBlockOrder:o,getBlockAttributes:r}=(0,g.select)("core/block-editor");o(a).forEach((o=>{const n=r(o);(JSON.stringify(n.itemPadding)!==JSON.stringify(e.itemPadding)||n.itemTextColor!==e.itemTextColor||n.itemBgColor!==e.itemBgColor)&&t(o,{itemPadding:e.itemPadding,itemTextColor:e.itemTextColor,itemBgColor:e.itemBgColor})}))}),[e.itemPadding,e.itemTextColor,e.itemBgColor,a]),(0,u.jsxs)("div",{...s,children:[(0,u.jsxs)(o.InspectorControls,{children:[(0,u.jsx)(o.PanelColorSettings,{title:(0,n.__)("Colors","gatherpress"),colorSettings:[{value:e.labelColor,onChange:e=>t({labelColor:e}),label:(0,n.__)("Label Text Color","gatherpress")},{value:e.itemTextColor,onChange:e=>t({itemTextColor:e}),label:(0,n.__)("Item Text Color","gatherpress")},{value:e.itemBgColor,onChange:e=>t({itemBgColor:e}),label:(0,n.__)("Item Background Color","gatherpress")}]}),(0,u.jsx)(r.PanelBody,{title:(0,n.__)("Settings","gatherpress"),initialOpen:!1,children:(0,u.jsx)(r.__experimentalBoxControl,{label:(0,n.__)("Item Padding","gatherpress"),values:e.itemPadding,onChange:e=>{const o=Object.fromEntries(Object.entries(e).map((([e,t])=>[e,isNaN(parseInt(t))?0:parseInt(t)])));t({itemPadding:o})}})})]}),(0,u.jsx)(o.BlockControls,{children:(0,u.jsx)(r.ToolbarGroup,{children:(0,u.jsx)(r.ToolbarButton,{icon:d?"no-alt":"plus",onClick:()=>{c((e=>!e))},label:d?(0,n.__)("Close Dropdown","gatherpress"):(0,n.__)("Open Dropdown","gatherpress")})})}),(0,u.jsx)(o.RichText,{tagName:"a",href:"#",role:"button","aria-expanded":d,"aria-controls":e.dropdownId,tabIndex:0,className:`${i}__trigger`,value:e.label,onChange:e=>t({label:e}),placeholder:(0,n.__)("Dropdown Labelâ€¦","gatherpress"),style:{color:e.labelColor}}),(0,u.jsx)("div",{id:e.dropdownId,role:"region",className:`${i}__menu`,style:{display:d?"block":"none",backgroundColor:e.itemBgColor},children:(0,u.jsx)(o.InnerBlocks,{allowedBlocks:["gatherpress/dropdown-item"]})})]})},save:({attributes:e})=>{const t=o.useBlockProps.save(),{dropdownId:r,label:n,labelColor:l,itemBgColor:a}=e,s=t.className||"";return(0,u.jsxs)("div",{...t,children:[(0,u.jsx)("a",{href:"#",role:"button","aria-expanded":"false","aria-controls":r,tabIndex:0,className:`${s}__trigger`,style:{color:l},children:n}),(0,u.jsx)("div",{id:r,role:"region",className:`${s}__menu`,style:{backgroundColor:a},children:(0,u.jsx)(o.InnerBlocks.Content,{})})]})}})}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,o,n,l)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){for(var[o,n,l]=e[c],s=!0,i=0;i<o.length;i++)(!1&l||a>=l)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(s=!1,l<a&&(a=l));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,n,l]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={8858:0,7822:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,l,[a,s,i]=o,d=0;if(a.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(i)var c=i(r)}for(t&&t(o);d<a.length;d++)l=a[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},o=globalThis.webpackChunkgatherpress=globalThis.webpackChunkgatherpress||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[7822],(()=>r(3752)));n=r.O(n)})();