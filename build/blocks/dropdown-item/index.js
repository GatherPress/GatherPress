(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"gatherpress/dropdown-item"}'),o=window.wp.i18n,r=window.wp.blockEditor,s=window.wp.components,n=window.ReactJSXRuntime;(0,e.registerBlockType)(t.UU,{edit:({attributes:t,setAttributes:i,clientId:a,onReplace:d,insertBlocksAfter:l})=>{const c=(0,r.useBlockProps)(),{text:p,url:w}=t,h=!w||"#"===w;return(0,n.jsxs)("div",{...c,children:[(0,n.jsx)(r.InspectorControls,{children:(0,n.jsx)(s.PanelBody,{title:(0,o.__)("Dropdown Item Settings","gatherpress"),children:(0,n.jsx)("p",{children:(0,o.__)('This item behaves like a button if the link is empty or set to "#".',"gatherpress")})})}),(0,n.jsx)(r.RichText,{tagName:"a",href:h?void 0:w,role:h?"button":void 0,tabIndex:h?0:void 0,"aria-pressed":h?"false":void 0,value:p,onChange:e=>{i({text:e}),wp.data.dispatch("core/block-editor").updateBlockAttributes(a,{metadata:{name:e||(0,o.__)("Dropdown Item","gatherpress")}})},placeholder:(0,o.__)("Item Text...","gatherpress"),allowedFormats:["core/bold","core/italic"],onSplit:(t,o)=>{const r=(0,e.createBlock)("gatherpress/dropdown-item",{text:o});l([r]),i({text:t})},onKeyDown:t=>{if("Enter"===t.key){t.preventDefault();const o=(0,e.createBlock)("gatherpress/dropdown-item",{text:""});l([o])}},onClick:e=>{h&&e.preventDefault()}})]})},save:({attributes:e})=>{const t=r.useBlockProps.save(),{text:o,url:s,isButton:i}=e;return(0,n.jsx)(r.RichText.Content,{...t,tagName:i?"button":"a",href:i?void 0:s,value:o})}})})();