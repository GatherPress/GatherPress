(()=>{"use strict";var e,t={546:()=>{const e=window.wp.blocks,t=window.wp.blockEditor,s=window.wp.components,a=window.wp.i18n,r=window.wp.element,n=window.wp.data,o=[["gatherpress/modal-manager",{style:{spacing:{blockGap:"var:preset|spacing|40"}}},[["core/buttons",{align:"center",layout:{type:"flex",justifyContent:"center"},metadata:{name:(0,a.__)("RSVP Buttons","gatherpress")}},[["core/button",{text:(0,a.__)("Edit RSVP","gatherpress"),tagName:"button",className:"gatherpress--open-modal"}]]],["core/group",{style:{spacing:{blockGap:"0"}}},[["core/group",{style:{spacing:{blockGap:"var:preset|spacing|20"}},layout:{type:"flex",flexWrap:"nowrap"}},[["gatherpress/icon",{icon:"yes-alt",iconSize:24}],["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>Attending</strong>","gatherpress")}]]],["gatherpress/rsvp-guest-count-display",{}]]],["gatherpress/modal",{className:"gatherpress--is-rsvp-modal",metadata:{name:(0,a.__)("RSVP Modal","gatherpress")}},[["gatherpress/modal-content",{},[["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>You're Attending</strong>","gatherpress")}],["core/paragraph",{content:(0,a.__)("To set or change your attending status, simply click the <strong>Not Attending</strong> button below.","gatherpress")}],["gatherpress/rsvp-guest-count-input",{}],["gatherpress/rsvp-anonymous-checkbox",{}],["core/buttons",{align:"left",layout:{type:"flex",justifyContent:"flex-start"},style:{spacing:{margin:{bottom:"0"},padding:{bottom:"0"}}}},[["core/button",{text:(0,a.__)("Not Attending","gatherpress"),tagName:"button",className:"gatherpress--update-rsvp"}],["core/button",{text:(0,a.__)("Close","gatherpress"),tagName:"button",className:"is-style-outline gatherpress--close-modal"}]]]]]]]]]];function p(e){if("object"==typeof GatherPress)return e.split(".").reduce(((e,t)=>e&&e[t]),GatherPress)}const g=[["gatherpress/modal-manager",{},[["core/buttons",{align:"center",layout:{type:"flex",justifyContent:"center"},metadata:{name:(0,a.__)("RSVP Buttons","gatherpress")}},[["core/button",{text:(0,a.__)("RSVP","gatherpress"),tagName:"button",className:"gatherpress--open-modal"}]]],["gatherpress/modal",{className:"gatherpress--is-rsvp-modal",metadata:{name:(0,a.__)("RSVP Modal","gatherpress")}},[["gatherpress/modal-content",{},[["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>RSVP to this event</strong>","gatherpress")}],["core/paragraph",{content:(0,a.__)("To set or change your attending status, simply click the <strong>Attending</strong> button below.","gatherpress")}],["gatherpress/rsvp-anonymous-checkbox",{}],["core/buttons",{align:"left",layout:{type:"flex",justifyContent:"flex-start"},style:{spacing:{margin:{bottom:"0"},padding:{bottom:"0"}}}},[["core/button",{text:(0,a.__)("Attending","gatherpress"),tagName:"button",className:"gatherpress--update-rsvp"}],["core/button",{text:(0,a.__)("Close","gatherpress"),tagName:"button",className:"is-style-outline gatherpress--close-modal"}]]]]]]],["gatherpress/modal",{className:"gatherpress--is-login-modal",metadata:{name:(0,a.__)("Login Modal","gatherpress")}},[["gatherpress/modal-content",{},[["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>Login Required</strong>","gatherpress")}],["core/paragraph",{content:(0,a.sprintf)(/* translators: %s: Login URL. */ /* translators: %s: Login URL. */
(0,a.__)('This action requires an account. Please <a href="%s">Login</a> to RSVP to this event.',"gatherpress"),p("urls.loginUrl")),className:"gatherpress--has-login-url"}],["core/paragraph",{content:(0,a.sprintf)(/* translators: %s: Registration URL. */ /* translators: %s: Registration URL. */
(0,a.__)('Don\'t have an account? <a href="%s">Register here</a> to create one.',"gatherpress"),p("urls.registrationUrl")),className:"gatherpress--has-registration-url"}],["core/buttons",{align:"left",layout:{type:"flex",justifyContent:"flex-start"},style:{spacing:{margin:{bottom:"0"},padding:{bottom:"0"}}}},[["core/button",{text:(0,a.__)("Close","gatherpress"),tagName:"button",className:"gatherpress--close-modal"}]]]]]]]]]],l=[["gatherpress/modal-manager",{style:{spacing:{blockGap:"var:preset|spacing|40"}}},[["core/buttons",{align:"center",layout:{type:"flex",justifyContent:"center"},metadata:{name:(0,a.__)("RSVP Buttons","gatherpress")}},[["core/button",{text:(0,a.__)("Edit RSVP","gatherpress"),tagName:"button",className:"gatherpress--open-modal"}]]],["core/group",{style:{spacing:{blockGap:"var:preset|spacing|20"}},layout:{type:"flex",flexWrap:"nowrap"}},[["gatherpress/icon",{icon:"dismiss",iconSize:24}],["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>Not Attending</strong>","gatherpress")}]]],["gatherpress/modal",{className:"gatherpress--is-rsvp-modal",metadata:{name:(0,a.__)("RSVP Modal","gatherpress")}},[["gatherpress/modal-content",{},[["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>You're Not Attending</strong>","gatherpress")}],["core/paragraph",{content:(0,a.__)("To set or change your attending status, simply click the <strong>Attending</strong> button below.","gatherpress")}],["gatherpress/rsvp-anonymous-checkbox",{}],["core/buttons",{align:"left",layout:{type:"flex",justifyContent:"flex-start"},style:{spacing:{margin:{bottom:"0"},padding:{bottom:"0"}}}},[["core/button",{text:(0,a.__)("Attending","gatherpress"),tagName:"button",className:"gatherpress--update-rsvp"}],["core/button",{text:(0,a.__)("Close","gatherpress"),tagName:"button",className:"is-style-outline gatherpress--close-modal"}]]]]]]]]]],i={no_status:g,attending:o,waiting_list:[["gatherpress/modal-manager",{style:{spacing:{blockGap:"var:preset|spacing|40"}}},[["core/buttons",{align:"center",layout:{type:"flex",justifyContent:"center"},metadata:{name:(0,a.__)("RSVP Buttons","gatherpress")}},[["core/button",{text:(0,a.__)("Edit RSVP","gatherpress"),tagName:"button",className:"gatherpress--open-modal"}]]],["core/group",{style:{spacing:{blockGap:"var:preset|spacing|20"}},layout:{type:"flex",flexWrap:"nowrap"}},[["gatherpress/icon",{icon:"editor-help",iconSize:24}],["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>Waiting List</strong>","gatherpress")}]]],["gatherpress/modal",{className:"gatherpress--is-rsvp-modal",metadata:{name:(0,a.__)("RSVP Modal","gatherpress")}},[["gatherpress/modal-content",{},[["core/paragraph",{style:{spacing:{margin:{top:"0"},padding:{top:"0"}}},content:(0,a.__)("<strong>You're Wait Listed</strong>","gatherpress")}],["core/paragraph",{content:(0,a.__)("To set or change your attending status, simply click the <strong>Not Attending</strong> button below.","gatherpress")}],["gatherpress/rsvp-anonymous-checkbox",{}],["core/buttons",{align:"left",layout:{type:"flex",justifyContent:"flex-start"},style:{spacing:{margin:{bottom:"0"},padding:{bottom:"0"}}}},[["core/button",{text:(0,a.__)("Not Attending","gatherpress"),tagName:"button",className:"gatherpress--update-rsvp"}],["core/button",{text:(0,a.__)("Close","gatherpress"),tagName:"button",className:"is-style-outline gatherpress--close-modal"}]]]]]]]]]],not_attending:l,past:[["core/buttons",{align:"center",layout:{type:"flex",justifyContent:"center"},metadata:{name:(0,a.__)("RSVP Buttons","gatherpress")}},[["core/button",{text:(0,a.__)("Past Event","gatherpress"),tagName:"button",className:"gatherpress--is-disabled"}]]]]},c=window.ReactJSXRuntime;function u(t){return t.map((([t,s,a])=>(0,e.createBlock)(t,s,u(a||[]))))}const d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"gatherpress/rsvp-v2","version":"2.0.0","title":"RSVP V2","category":"gatherpress","icon":"insert","example":{},"description":"Enables members to easily confirm their attendance for an event.","usesContext":["postId","queryId"],"attributes":{"postId":{"type":"number"},"serializedInnerBlocks":{"type":"string","default":"[]"},"selectedStatus":{"type":"string","default":"no_status"}},"supports":{"gatherpress":{"postIdOverride":true},"html":false,"interactivity":true},"textdomain":"gatherpress","editorScript":"file:./index.js","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}');(0,e.registerBlockType)(d,{edit:({attributes:o,setAttributes:p,clientId:g})=>{const{serializedInnerBlocks:l="{}",selectedStatus:d}=o,h=(0,t.useBlockProps)(),{replaceInnerBlocks:m}=(0,n.useDispatch)(t.store),b=(0,n.useSelect)((e=>e(t.store).getBlocks(g)),[g]),_=(0,r.useCallback)(((t,s,a)=>{const r=JSON.parse(l||"{}"),n=(0,e.serialize)(a),o={...r,[t]:n};delete o[s],p({serializedInnerBlocks:JSON.stringify(o)})}),[l,p]),y=(0,r.useCallback)((t=>{const s=JSON.parse(l||"{}")[t];s&&s.length>0&&m(g,(0,e.parse)(s,{}))}),[g,m,l]);return(0,r.useEffect)((()=>{(()=>{const t=JSON.parse(l||"{}"),s=Object.keys(i).reduce(((s,a)=>{if(t[a])return s[a]=t[a],s;if(a!==d){const t=u(i[a]);s[a]=(0,e.serialize)(t)}return s}),{...t});p({serializedInnerBlocks:JSON.stringify(s)})})()}),[l,p,d]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.InspectorControls,{children:(0,c.jsx)(s.PanelBody,{children:(0,c.jsx)(s.SelectControl,{label:(0,a.__)("RSVP Status","gatherpress"),value:d,options:[{label:(0,a.__)("No Status (User has not responded)","gatherpress"),value:"no_status"},{label:(0,a.__)("Attending (User is confirmed)","gatherpress"),value:"attending"},{label:(0,a.__)("Waiting List (Pending confirmation)","gatherpress"),value:"waiting_list"},{label:(0,a.__)("Not Attending (User declined)","gatherpress"),value:"not_attending"},{label:(0,a.__)("Past Event (Event has already occurred)","gatherpress"),value:"past"}],onChange:e=>{y(e),p({selectedStatus:e}),_(d,e,b)}})})}),(0,c.jsx)("div",{...h,children:(0,c.jsx)(t.InnerBlocks,{template:i[d]})})]})},save:()=>(0,c.jsx)("div",{...t.useBlockProps.save(),children:(0,c.jsx)(t.InnerBlocks.Content,{})})})}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var n=s[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,s,r,n)=>{if(!s){var o=1/0;for(i=0;i<e.length;i++){for(var[s,r,n]=e[i],p=!0,g=0;g<s.length;g++)(!1&n||o>=n)&&Object.keys(a.O).every((e=>a.O[e](s[g])))?s.splice(g--,1):(p=!1,n<o&&(o=n));if(p){e.splice(i--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[s,r,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={345:0,525:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var r,n,[o,p,g]=s,l=0;if(o.some((t=>0!==e[t]))){for(r in p)a.o(p,r)&&(a.m[r]=p[r]);if(g)var i=g(a)}for(t&&t(s);l<o.length;l++)n=o[l],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(i)},s=globalThis.webpackChunkgatherpress=globalThis.webpackChunkgatherpress||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var r=a.O(void 0,[525],(()=>a(546)));r=a.O(r)})();