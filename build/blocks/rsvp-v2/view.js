import*as e from"@wordpress/interactivity";var t={d:(e,s)=>{for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const s=(r={store:()=>e.store},n={},t.d(n,r),n);var r,n;function o(e){if("object"==typeof GatherPress)return e.split(".").reduce(((e,t)=>e&&e[t]),GatherPress)}const{state:a}=(0,s.store)("gatherpress/rsvp-interactivity",{state:{attendingCount:o("eventDetails.responses.attending.count")},actions:{rsvpOpenModal(e){const t=document.querySelector(".gatherpress-rsvp-modal");t&&t.classList.add("gatherpress--is-visible")},rsvpCloseModal(){const e=document.querySelector(".gatherpress-rsvp-modal");e&&e.classList.remove("gatherpress--is-visible")},rsvpStatusAttending(){fetch(o("urls.eventApiUrl")+"/rsvp",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":o("misc.nonce")},body:JSON.stringify({post_id:o("eventDetails.postId"),status:"attending",guests:0,anonymous:0})}).then((e=>e.json())).then((e=>{e.success&&(a.attendingCount=e.responses.attending.count,a.isOpen=!0,console.log("SUCCESS"))})).catch((e=>{console.error("Error:",e)}))}},callbacks:{logIsOpen(){a.isOpen&&alert("attending!")}}});